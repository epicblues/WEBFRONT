<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>멤버십 가입</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* 속성 선택자 연습 */
        *[type] {
            /*type 속성이 있는 모든 태그 선택*/
            background-color: beige;
        }

        input[type="text"] {
            /* type 속성이 text인 input 태그를 선택 */
            background-color: lightgreen;
        }

        input[type="password"] {
            /* type 속성이 password 인 input 태그를 선택 */
            background-color: lightblue;
        }

        /* 상태 선택자 
            :입력 폼의 상태에 따른 선택
        */
        input:enabled {
            background-color: white;
        }

        input:disabled {
            /*입력 불가능한 input 태그를 선택한다 */
            background-color: grey;
        }

        input:focus {
            background-color: darkorange;
        }

        
        
        
    </style>
</head>
<body>
    <h1>멤버십 가입</h1>
    <p><a href="./index.html">Bit Lounge</a></p>
    <form name="registerForm" method="POST" action="/register.html">
        <fieldset><!-- 입력 양식의 그룹화 -->
            <legend>회원 가입</legend>
            <label for="userid">아이디</label>
            <!--name 속성은 서버로 전달될 파라미터 이름-->
            <!--id 속성은 클라이언트 html에서 해당 입력 양식을 식별하기 위한 이름 서버와 관계 X!-->
            <!--특히 작은 디바이스에게 label은 유용-->
            <input type="text" name="userid" id="userid" 
            placeholder="아이디를 입력해주세요!"/>
            <br>
            <label for="userpw">비밀번호</label>
            <input type="password" name="userpw" id="userpw"/>
            <br>
            <label for="code">추천코드</label>
            <input type="text" name="code" id="code"
                disabled>
            <br>

            <!--사용자 입력은 아니고,
                해당 폼을 처리할 때 반드시 필요한 값
                주로 개발자가 설정한다. -->
            <input type="hidden" name="secret_code" value="secret">
            
            <label for="gender">성별</label>
            <!--같은 이름을 가진 radio중에서 한 개만 전송-->
            <input type="radio" name="gender"  value="F" checked/>여성
            <input type="radio" name="gender" value="M" />남성
            <br>

            <label for="favorite">선호 음료</label>
            <!--같은 name을 가진 checkbox를 중복 전송한다.
            서버로는 문자열의 배열 parameter가 전송된다-->
            <input type="checkbox" name="favorite" value="americano">아메리카노
            <input type="checkbox" name="favorite" value="latte">라떼
            <input type="checkbox" name="favorite" value="aid">에이드
            <input type="checkbox" name="favorite" value="tea">녹차(홍차)
            <br>
            <label for="telecom">통신사</label>
            <select name="telecom" id="">
            <!--실제 데이터는 option태그로 설정-->
                <option value="L">LGU+</option>
                <option value="K">KT</option>
                <option value="S">SKT</option>
                <option value="E">기타</option>
            </select>
            <br>
            <input type="reset" value="다시 작성">
            <br>
            <input type="submit" value="멤버십 가입">
        </fieldset>
    </form>
    <script>
        const form = document.getElementsByName('registerForm')[0];
        const inputs = document.querySelectorAll("input");
        
        function checkForm(){
            let frm = document.registerForm;
            console.log(frm);
            let userid = frm.userid.value.trim();
            let userpw = frm.userpw.value.trim();
            console.log(userid,userpw);
            
            if(userid.length <4 ) {
                alert('아이디는 최소 4문자 이상이어야합니다.');
                return false;
            }

            if(userpw.length <4 ) {
                alert('패스워드는 최소 4문자 이상이어야합니다.');
                return false;
            }
            // 선호 음료는 최소 1개 이상 선택
            let checkedCount = 0;
            for ( let i = 0; i < frm.favorite.length; i ++ ) {
                // 개별 체크박스
                let cb = frm.favorite[i];
                if (cb.checked) {
                    console.log(cb.value, "is checked!");
                    checkedCount++;
                }
            }

            if(checkedCount == 0) {
                alert("최소 1개 이상의 음료를 선택해야 합니다.");
            }

            // 통신사 선택
            // 선택된 것의 인덱스 확인
            let selectedIndex = frm.telecom.selectedIndex;
            
            let option = frm.telecom[selectedIndex].value;
            console.log(option);
            return false;
            
            
        }


        

        form.onsubmit = checkForm;
    </script>
</body>
</html>